"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{7482:function(t,n,o){o.d(n,{E:function(){return ht}});var e=o(655),i=o(8353),r=o(4007),a=o(6872),s=o(1903),u=o(7294),l=o(4394),c=o(900),p=o(8148),v=o(4735),d=o(6917),f=o(737),m=o(8677),h=o(9897),g=function(){function t(t,n,o){var i=this,r=(void 0===o?{}:o).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(i.lastMoveEvent&&i.lastMoveEventInfo){var t=x(i.lastMoveEventInfo,i.history),n=null!==i.startEvent,o=(0,m.T)(t.offset,{x:0,y:0})>=3;if(n||o){var r=t.point,a=(0,v.$B)().timestamp;i.history.push((0,e.pi)((0,e.pi)({},r),{timestamp:a}));var s=i.handlers,u=s.onStart,l=s.onMove;n||(u&&u(i.lastMoveEvent,t),i.startEvent=i.lastMoveEvent),l&&l(i.lastMoveEvent,t)}}},this.handlePointerMove=function(t,n){i.lastMoveEvent=t,i.lastMoveEventInfo=y(n,i.transformPagePoint),(0,c.N)(t)&&0===t.buttons?i.handlePointerUp(t,n):v.ZP.update(i.updatePoint,!0)},this.handlePointerUp=function(t,n){i.end();var o=i.handlers,e=o.onEnd,r=o.onSessionEnd,a=x(y(n,i.transformPagePoint),i.history);i.startEvent&&e&&e(t,a),r&&r(t,a)},!((0,c.z)(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=r;var a=y((0,p.Q)(t),this.transformPagePoint),s=a.point,u=(0,v.$B)().timestamp;this.history=[(0,e.pi)((0,e.pi)({},s),{timestamp:u})];var l=n.onSessionStart;l&&l(t,x(a,this.history)),this.removeListeners=(0,h.z)((0,f.a)(window,"pointermove",this.handlePointerMove),(0,f.a)(window,"pointerup",this.handlePointerUp),(0,f.a)(window,"pointercancel",this.handlePointerUp))}}return t.prototype.updateHandlers=function(t){this.handlers=t},t.prototype.end=function(){this.removeListeners&&this.removeListeners(),v.qY.update(this.updatePoint)},t}();function y(t,n){return n?{point:n(t.point)}:t}function E(t,n){return{x:t.x-n.x,y:t.y-n.y}}function x(t,n){var o=t.point;return{point:o,delta:E(o,C(n)),offset:E(o,P(n)),velocity:b(n,.1)}}function P(t){return t[0]}function C(t){return t[t.length-1]}function b(t,n){if(t.length<2)return{x:0,y:0};for(var o=t.length-1,e=null,i=C(t);o>=0&&(e=t[o],!(i.timestamp-e.timestamp>(0,d.w)(n)));)o--;if(!e)return{x:0,y:0};var r=(i.timestamp-e.timestamp)/1e3;if(0===r)return{x:0,y:0};var a={x:(i.x-e.x)/r,y:(i.y-e.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}var L=o(7544),M=o(1804),D=o(2453),R=o(9326),S=o(6773),T=o(6645);function A(t,n,o){return{min:void 0!==n?t.min+n:void 0,max:void 0!==o?t.max+o-(t.max-t.min):void 0}}function w(t,n){var o,i=n.min-t.min,r=n.max-t.max;return n.max-n.min<t.max-t.min&&(i=(o=(0,e.CR)([r,i],2))[0],r=o[1]),{min:i,max:r}}var k=.35;function U(t,n,o){return{min:j(t,n),max:j(t,o)}}function j(t,n){var o;return"number"===typeof t?t:null!==(o=t[n])&&void 0!==o?o:0}var V=o(3233),G=o(1512),I=o(1730),B=o(6460),z=o(1593),O=o(6117),_=o(1756),J=o(2969),N=new WeakMap,W=function(){function t(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=(0,G.dO)(),this.visualElement=t}return t.prototype.start=function(t,n){var o=this,e=(void 0===n?{}:n).snapToCursor,i=void 0!==e&&e;if(!1!==this.visualElement.isPresent){this.panSession=new g(t,{onSessionStart:function(t){o.stopAnimation(),i&&o.snapToCursor((0,p.Q)(t,"page").point)},onStart:function(t,n){var e,i=o.getProps(),r=i.drag,a=i.dragPropagation,s=i.onDragStart;(!r||a||(o.openGlobalLock&&o.openGlobalLock(),o.openGlobalLock=(0,L.fJ)(r),o.openGlobalLock))&&(o.isDragging=!0,o.currentDirection=null,o.resolveConstraints(),o.visualElement.projection&&(o.visualElement.projection.isAnimationBlocked=!0,o.visualElement.projection.target=void 0),(0,I.U)((function(t){var n,e,i=o.getAxisMotionValue(t).get()||0;if(J.aQ.test(i)){var r=null===(e=null===(n=o.visualElement.projection)||void 0===n?void 0:n.layout)||void 0===e?void 0:e.actual[t];if(r)i=(0,T.JO)(r)*(parseFloat(i)/100)}o.originPoint[t]=i})),null===s||void 0===s||s(t,n),null===(e=o.visualElement.animationState)||void 0===e||e.setActive(V.r.Drag,!0))},onMove:function(t,n){var e=o.getProps(),i=e.dragPropagation,r=e.dragDirectionLock,a=e.onDirectionLock,s=e.onDrag;if(i||o.openGlobalLock){var u=n.offset;if(r&&null===o.currentDirection)return o.currentDirection=function(t,n){void 0===n&&(n=10);var o=null;Math.abs(t.y)>n?o="y":Math.abs(t.x)>n&&(o="x");return o}(u),void(null!==o.currentDirection&&(null===a||void 0===a||a(o.currentDirection)));o.updateAxis("x",n.point,u),o.updateAxis("y",n.point,u),o.visualElement.syncRender(),null===s||void 0===s||s(t,n)}},onSessionEnd:function(t,n){return o.stop(t,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},t.prototype.stop=function(t,n){var o=this.isDragging;if(this.cancel(),o){var e=n.velocity;this.startAnimation(e);var i=this.getProps().onDragEnd;null===i||void 0===i||i(t,n)}},t.prototype.cancel=function(){var t,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(t=this.panSession)||void 0===t||t.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(n=this.visualElement.animationState)||void 0===n||n.setActive(V.r.Drag,!1)},t.prototype.updateAxis=function(t,n,o){var e=this.getProps().drag;if(o&&Q(t,e,this.currentDirection)){var i=this.getAxisMotionValue(t),r=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(r=function(t,n,o){var e=n.min,i=n.max;return void 0!==e&&t<e?t=o?(0,D.C)(e,t,o.min):Math.max(t,e):void 0!==i&&t>i&&(t=o?(0,D.C)(i,t,o.max):Math.min(t,i)),t}(r,this.constraints[t],this.elastic[t])),i.set(r)}},t.prototype.resolveConstraints=function(){var t=this,n=this.getProps(),o=n.dragConstraints,e=n.dragElastic,i=(this.visualElement.projection||{}).layout,r=this.constraints;o&&(0,M.I)(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!o||!i)&&function(t,n){var o=n.top,e=n.left,i=n.bottom,r=n.right;return{x:A(t.x,e,r),y:A(t.y,o,i)}}(i.actual,o),this.elastic=function(t){return void 0===t&&(t=k),!1===t?t=0:!0===t&&(t=k),{x:U(t,"left","right"),y:U(t,"top","bottom")}}(e),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&(0,I.U)((function(n){t.getAxisMotionValue(n)&&(t.constraints[n]=function(t,n){var o={};return void 0!==n.min&&(o.min=n.min-t.min),void 0!==n.max&&(o.max=n.max-t.min),o}(i.actual[n],t.constraints[n]))}))},t.prototype.resolveRefConstraints=function(){var t=this.getProps(),n=t.dragConstraints,o=t.onMeasureDragConstraints;if(!n||!(0,M.I)(n))return!1;var e=n.current;(0,l.k)(null!==e,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var r=(0,B.z)(e,i.root,this.visualElement.getTransformPagePoint()),a=function(t,n){return{x:w(t.x,n.x),y:w(t.y,n.y)}}(i.layout.actual,r);if(o){var s=o((0,O.z2)(a));this.hasMutatedConstraints=!!s,s&&(a=(0,O.i8)(s))}return a},t.prototype.startAnimation=function(t){var n=this,o=this.getProps(),i=o.drag,r=o.dragMomentum,a=o.dragElastic,s=o.dragTransition,u=o.dragSnapToOrigin,l=o.onDragTransitionEnd,c=this.constraints||{},p=(0,I.U)((function(o){var l;if(Q(o,i,n.currentDirection)){var p=null!==(l=null===c||void 0===c?void 0:c[o])&&void 0!==l?l:{};u&&(p={min:0,max:0});var v=a?200:1e6,d=a?40:1e7,f=(0,e.pi)((0,e.pi)({type:"inertia",velocity:r?t[o]:0,bounceStiffness:v,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},s),p);return n.startAxisValueAnimation(o,f)}}));return Promise.all(p).then(l)},t.prototype.startAxisValueAnimation=function(t,n){var o=this.getAxisMotionValue(t);return(0,z.b8)(t,o,0,n)},t.prototype.stopAnimation=function(){var t=this;(0,I.U)((function(n){return t.getAxisMotionValue(n).stop()}))},t.prototype.getAxisMotionValue=function(t){var n,o,e="_drag"+t.toUpperCase(),i=this.visualElement.getProps()[e];return i||this.visualElement.getValue(t,null!==(o=null===(n=this.visualElement.getProps().initial)||void 0===n?void 0:n[t])&&void 0!==o?o:0)},t.prototype.snapToCursor=function(t){var n=this;(0,I.U)((function(o){if(Q(o,n.getProps().drag,n.currentDirection)){var e=n.visualElement.projection,i=n.getAxisMotionValue(o);if(e&&e.layout){var r=e.layout.actual[o],a=r.min,s=r.max;i.set(t[o]-(0,D.C)(a,s,.5))}}}))},t.prototype.scalePositionWithinConstraints=function(){var t,n=this,o=this.getProps(),e=o.drag,i=o.dragConstraints,r=this.visualElement.projection;if((0,M.I)(i)&&r&&this.constraints){this.stopAnimation();var a={x:0,y:0};(0,I.U)((function(t){var o=n.getAxisMotionValue(t);if(o){var e=o.get();a[t]=function(t,n){var o=.5,e=(0,T.JO)(t),i=(0,T.JO)(n);return i>e?o=(0,R.Y)(n.min,n.max-e,t.min):e>i&&(o=(0,R.Y)(t.min,t.max-i,n.min)),(0,S.u)(0,1,o)}({min:e,max:e},n.constraints[t])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(t=r.root)||void 0===t||t.updateScroll(),r.updateLayout(),this.resolveConstraints(),(0,I.U)((function(t){if(Q(t,e,null)){var o=n.getAxisMotionValue(t),i=n.constraints[t],r=i.min,s=i.max;o.set((0,D.C)(r,s,a[t]))}}))}},t.prototype.addListeners=function(){var t,n=this;N.set(this.visualElement,this);var o=this.visualElement.getInstance(),e=(0,f.a)(o,"pointerdown",(function(t){var o=n.getProps(),e=o.drag,i=o.dragListener;e&&(void 0===i||i)&&n.start(t)})),i=function(){var t=n.getProps().dragConstraints;(0,M.I)(t)&&(n.constraints=n.resolveRefConstraints())},r=this.visualElement.projection,a=r.addEventListener("measure",i);r&&!r.layout&&(null===(t=r.root)||void 0===t||t.updateScroll(),r.updateLayout()),i();var s=(0,_.E)(window,"resize",(function(){n.scalePositionWithinConstraints()}));return r.addEventListener("didUpdate",(function(t){var o=t.delta,e=t.hasLayoutChanged;n.isDragging&&e&&((0,I.U)((function(t){var e=n.getAxisMotionValue(t);e&&(n.originPoint[t]+=o[t].translate,e.set(e.get()+o[t].translate))})),n.visualElement.syncRender())})),function(){s(),e(),a()}},t.prototype.getProps=function(){var t=this.visualElement.getProps(),n=t.drag,o=void 0!==n&&n,i=t.dragDirectionLock,r=void 0!==i&&i,a=t.dragPropagation,s=void 0!==a&&a,u=t.dragConstraints,l=void 0!==u&&u,c=t.dragElastic,p=void 0===c?k:c,v=t.dragMomentum,d=void 0===v||v;return(0,e.pi)((0,e.pi)({},t),{drag:o,dragDirectionLock:r,dragPropagation:s,dragConstraints:l,dragElastic:p,dragMomentum:d})},t}();function Q(t,n,o){return(!0===n||n===t)&&(null===o||o===t)}var Y=o(6681);var Z=o(6014),$=o(5411);var F=o(5445),H={pan:(0,F.x)((function(t){var n=t.onPan,o=t.onPanStart,e=t.onPanEnd,i=t.onPanSessionStart,r=t.visualElement,a=n||o||e||i,s=(0,u.useRef)(null),l=(0,u.useContext)(Z._).transformPagePoint,c={onSessionStart:i,onStart:o,onMove:n,onEnd:function(t,n){s.current=null,e&&e(t,n)}};(0,u.useEffect)((function(){null!==s.current&&s.current.updateHandlers(c)})),(0,f.m)(r,"pointerdown",a&&function(t){s.current=new g(t,c,{transformPagePoint:l})}),(0,$.z)((function(){return s.current&&s.current.end()}))})),drag:(0,F.x)((function(t){var n=t.dragControls,o=t.visualElement,e=(0,Y.h)((function(){return new W(o)}));(0,u.useEffect)((function(){return n&&n.subscribe(e)}),[e,n]),(0,u.useEffect)((function(){return e.addListeners()}),[e])}))},q=o(5961),X=o(5947),K=o(5364),tt=o(1705),nt=o(885);function ot(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}var et={correct:function(t,n){if(!n.target)return t;if("string"===typeof t){if(!J.px.test(t))return t;t=parseFloat(t)}var o=ot(t,n.target.x),e=ot(t,n.target.y);return"".concat(o,"% ").concat(e,"%")}},it=o(8407),rt=o(7539),at="_$css",st={correct:function(t,n){var o=n.treeScale,e=n.projectionDelta,i=t,r=t.includes("var("),a=[];r&&(t=t.replace(rt.Xp,(function(t){return a.push(t),at})));var s=it.P.parse(t);if(s.length>5)return i;var u=it.P.createTransformer(t),l="number"!==typeof s[0]?1:0,c=e.x.scale*o.x,p=e.y.scale*o.y;s[0+l]/=c,s[1+l]/=p;var v=(0,D.C)(c,p,.5);"number"===typeof s[2+l]&&(s[2+l]/=v),"number"===typeof s[3+l]&&(s[3+l]/=v);var d=u(s);if(r){var f=0;d=d.replace(at,(function(){var t=a[f];return f++,t}))}return d}},ut=o(4561),lt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.ZT)(n,t),n.prototype.componentDidMount=function(){var t=this,n=this.props,o=n.visualElement,i=n.layoutGroup,r=n.switchLayoutGroup,a=n.layoutId,s=o.projection;(0,ut.B)(ct),s&&((null===i||void 0===i?void 0:i.group)&&i.group.add(s),(null===r||void 0===r?void 0:r.register)&&a&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions((0,e.pi)((0,e.pi)({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),nt.VN.hasEverUpdated=!0},n.prototype.getSnapshotBeforeUpdate=function(t){var n=this,o=this.props,e=o.layoutDependency,i=o.visualElement,r=o.drag,a=o.isPresent,s=i.projection;return s?(s.isPresent=a,r||t.layoutDependency!==e||void 0===e?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||v.ZP.postRender((function(){var t;(null===(t=s.getStack())||void 0===t?void 0:t.members.length)||n.safeToRemove()}))),null):null},n.prototype.componentDidUpdate=function(){var t=this.props.visualElement.projection;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())},n.prototype.componentWillUnmount=function(){var t=this.props,n=t.visualElement,o=t.layoutGroup,e=t.switchLayoutGroup,i=n.projection;i&&(i.scheduleCheckAfterUnmount(),(null===o||void 0===o?void 0:o.group)&&o.group.remove(i),(null===e||void 0===e?void 0:e.deregister)&&e.deregister(i))},n.prototype.safeToRemove=function(){var t=this.props.safeToRemove;null===t||void 0===t||t()},n.prototype.render=function(){return null},n}(u.Component);var ct={borderRadius:(0,e.pi)((0,e.pi)({},et),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:et,borderTopRightRadius:et,borderBottomLeftRadius:et,borderBottomRightRadius:et,boxShadow:st},pt={measureLayout:function(t){var n=(0,e.CR)((0,X.oO)(),2),o=n[0],i=n[1],r=(0,u.useContext)(K.p);return u.createElement(lt,(0,e.pi)({},t,{layoutGroup:r,switchLayoutGroup:(0,u.useContext)(tt.g),isPresent:o,safeToRemove:i}))}},vt=(0,nt.yV)({attachResizeListener:function(t,n){return t.addEventListener("resize",n,{passive:!0}),function(){return t.removeEventListener("resize",n)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),dt={current:void 0},ft=(0,nt.yV)({measureScroll:function(t){return{x:t.scrollLeft,y:t.scrollTop}},defaultParent:function(){if(!dt.current){var t=new vt(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),dt.current=t}return dt.current},resetTransform:function(t,n){t.style.transform=null!==n&&void 0!==n?n:"none"}}),mt=(0,e.pi)((0,e.pi)((0,e.pi)((0,e.pi)({},s.s),a.E),H),pt),ht=(0,i.D)((function(t,n){return(0,r.w)(t,n,mt,q.b,ft)}))}}]);